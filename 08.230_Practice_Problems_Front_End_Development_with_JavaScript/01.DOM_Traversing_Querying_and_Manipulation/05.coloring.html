<!doctype html>
<html>

  <head>
    <title>Coloring</title>
    <link rel="stylesheet" href="05.coloring.css" />
  </head>

  <body>
    <article id="1" >1
      <header id="2" class="child1x1">2
        <span id="3" class="child1x1">3
          <a href="#" id="4" class="child1x1">4</a>
        </span>
      </header>
      <main id="5" class="child1x2">5
        <section id="6" class="child1x1">6
          <p id="7" class="child1x1">7
            <span id="8" class="child1x1">8
              <strong id="9" class="child1x1">9
                <a href="#" id="10" class="child1x1">10</a>
              </strong>
            </span>
          </p>
        </section>
        <section id="11" class="child1x2">11
          <p id="12" class="child1x1">12
            <span id="13" class="child1x1">13
              <strong id="14" class="child1x1">14
                <a href="#" id="15" class="child1x1">15</a>
              </strong>
            </span>
          </p>
          <p id="16" class="child1x2">16
            <span id="17" class="child1x1">17
              <strong id="18" class="child1x1">18
                <a href="#" id="19" class="child1x1">19</a>
              </strong>
            </span>
            <span id="20" class="child1x2">20
              <strong id="21" class="child1x1">21
                <a href="#" id="22" class="child1x1">22</a>
              </strong>
            </span>
          </p>
        </section>
      </main>
      <footer id="23" class="child1x6">23
        <p id="24" class="child1x1">24</p>
      </footer>
    </article>
    <script>
      function colorGeneration(targetGeneration) {
        var generation = 0;
        var parents = [document.body];
        var elements;

        while (generation < targetGeneration) {
          generation += 1;
          elements = parents.map(element => {
            return Array.prototype.slice.call(element.children);
          })
          elements = elements.reduce((collection, children) => {
            return collection.concat(children);
          }, []);
          parents = elements;
        }

        if (elements) {
          elements.forEach(element => {
          element.classList.add("generation-color");
          })
          return elements;
        }
      }

      console.log(colorGeneration(6));
    </script>
 <!--    <script>
      function colorGeneration(n) {
  function setGenerationN(nodes, generation) {
    for (var i = 0; i < nodes.length; i++) {
      if (generation === n) {
        return [...nodes].forEach(node => node.classList.add('generation-color'));
      }
      setGenerationN(nodes[i].children, generation + 1);
    }
  }

  setGenerationN(document.body.children, 1);
}
  
  colorGeneration(2);
    </script> -->
<!--     <script>
      function colorGeneration(targetGeneration) {
  var generation = 0;
  var parents = [document.body];
  var elements;

  while (generation < targetGeneration) {
    generation += 1;
    elements = getAllChildrenOf(parents);
    parents = elements;
  }

  if (elements) {
    color(elements);
  }
}

function color(elements) {
  elements.forEach(function(element) {
    element.classList.add("generation-color");
  });
}

function getAllChildrenOf(parents) {
  return parents.map(function(element) {
    return Array.prototype.slice.call(element.children);
  }).reduce(function(collection, children) {
    return collection.concat(children);
  }, []);
}
colorGeneration(3);
</script> -->
  </body>
</html>








